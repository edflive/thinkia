<!DOCTYPE html>
<html lang="{{ site.lang | default: 'fr' }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} · {% endif %}{{ site.title }}</title>
    {%- seo -%}
    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
  </head>
  <body>
    <header class="site-header">
      <div class="wrapper">
        <h1 style="margin:1.2rem 0;"><a href="{{ '/' | relative_url }}" style="text-decoration:none;">ThinkIA</a></h1>
        <p style="margin-top:-.6rem;color:var(--muted)">{{ site.description }}</p>
      </div>
    </header>
    <main class="page-content" aria-label="Content">
      <div class="wrapper grid">
        <!-- ASIDE À GAUCHE -->
        <aside class="sidebar-wrap">
          <button class="sidebar-toggle" aria-expanded="false" aria-controls="sidebar">
            ☰ Thèmes
          </button>
          {% include sidebar.html %}
        </aside>

        <!-- CONTENU -->
        <div>
          {{ content }}
        </div>
      </div>
    </main>

    <!-- Script minimal pour ouvrir/fermer le panneau latéral en mobile -->
    <script>
      (function() {
        const btn = document.querySelector('.sidebar-toggle');
        const sidebar = document.getElementById('sidebar');
        if (!btn || !sidebar) return;
        btn.addEventListener('click', () => {
          document.body.classList.toggle('sidebar-open');
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
        });
      })();
    </script>

    <footer class="site-footer">
      <div class="wrapper">
        <p>&copy; {{ "now" | date: "%Y" }} ThinkIA — Propulsé par Jekyll & GitHub Pages.</p>
      </div>
    </footer>
  </body>
</html>